<h3>Novo Contato</h3>
<hr>

<form #f="ngForm" (ngSubmit)="onSubmit(f)">
  <div class="row">
    <div class="col-md-6 mb-3">
      <label for="nome" class="form-label">Nome Completo</label>
      <input type="text" id="nome" class="form-control" required [(ngModel)]="contato.nome" name="nome">
    </div>
    <div class="col-md-6 mb-3">
      <label for="fotoUrl" class="form-label">URL da Foto</label>
      <input type="url" id="fotoUrl" class="form-control" [(ngModel)]="contato.fotoUrl" name="fotoUrl">
    </div>
  </div>
  <div class="row">
    <div class="col-md-6 mb-3">
      <label for="email" class="form-label">Email Principal</label>
      <input type="email" id="email" class="form-control" [(ngModel)]="contato.emailPrincipal" name="emailPrincipal">
    </div>
    <div class="col-md-6 mb-3">
      <label for="telefone" class="form-label">Telefone Principal</label>
      <input type="tel" id="telefone" class="form-control" [(ngModel)]="contato.telefonePrincipal" name="telefonePrincipal">
    </div>
  </div>
  <div class="row">
    <div class="col-md-6 mb-3">
      <label for="empresa" class="form-label">Empresa</label>
      <input type="text" id="empresa" class="form-control" [(ngModel)]="contato.empresa" name="empresa">
    </div>
    <div class="col-md-6 mb-3">
      <label for="cargo" class="form-label">Cargo</label>
      <input type="text" id="cargo" class="form-control" [(ngModel)]="contato.cargo" name="cargo">
    </div>
  </div>
  <div class="row">
    <div class="col-md-6 mb-3">
      <label for="aniversario" class="form-label">Aniversário</label>
      <input type="date" id="aniversario" class="form-control" [(ngModel)]="contato.aniversario" name="aniversario">
    </div>
    <div class="col-md-6 mb-3">
      <label for="categoria" class="form-label">Categoria</label>
      <select id="categoria" class="form-control" [(ngModel)]="contato.categoria" name="categoria">
        <option value="">Selecione</option>
        <option *ngFor="let cat of categorias" [ngValue]="cat">{{ cat.nome }}</option>
      </select>
    </div>
  </div>
  <div class="mb-3">
    <label class="form-label">Endereço</label>
    <input type="text" class="form-control mb-2" placeholder="Rua" id="enderecoRua" [(ngModel)]="contato.endereco.logradouro" name="logradouro">
    <input type="text" class="form-control mb-2" placeholder="Número" id="enderecoNumero" [(ngModel)]="contato.endereco.numero" name="numero">
    <input type="text" class="form-control mb-2" placeholder="Complemento" id="enderecoComplemento" [(ngModel)]="contato.endereco.complemento" name="complemento">
    <input type="text" class="form-control mb-2" placeholder="Bairro" id="enderecoBairro" [(ngModel)]="contato.endereco.bairro" name="bairro">
    <input type="text" class="form-control mb-2" placeholder="Cidade" id="enderecoCidade" [(ngModel)]="contato.endereco.cidade" name="cidade">
    <input type="text" class="form-control mb-2" placeholder="Estado" id="enderecoEstado" [(ngModel)]="contato.endereco.estado" name="estado">
    <input type="text" class="form-control mb-2" placeholder="CEP" id="enderecoCep" [(ngModel)]="contato.endereco.cep" name="cep">
  </div>
  <div class="mb-3">
    <label for="notas" class="form-label">Notas</label>
    <textarea id="notas" class="form-control" rows="3" [(ngModel)]="contato.notas" name="notas"></textarea>
  </div>
  <div class="form-check mb-3">
    <input type="checkbox" class="form-check-input" id="favorito" [(ngModel)]="contato.favorito" name="favorito">
    <label class="form-check-label" for="favorito">Favorito</label>
  </div>
  <div class="d-flex justify-content-end mt-3">
    <button type="button" class="btn btn-secondary me-2" routerLink="/">Cancelar</button>
    <button type="submit" class="btn btn-primary">
      {{ isEditMode ? 'Atualizar Contato' : 'Salvar Contato' }}
    </button>
  </div>
</form>